
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index, follow" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://seth.fischer.nz/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://seth.fischer.nz/theme/pygments/github.min.css">


  <link rel="stylesheet" type="text/css" href="https://seth.fischer.nz/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://seth.fischer.nz/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://seth.fischer.nz/theme/font-awesome/css/solid.css">

    <link href="https://seth.fischer.nz/static/css/flex-custom.css" rel="stylesheet">

    <link href="https://seth.fischer.nz/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="sethfischer Atom">



  


<meta name="author" content="Seth Fischer" />
<meta name="description" content="This Drupal 8 article is obsolete. Now that Drupal 8 is in beta phase it is a great time for site developers to start exploring the API. This article serves as an introduction to installing and configuring Drupal 8 using Git and Drush." />
<meta name="keywords" content="Drupal 8, Drupal">


<meta property="og:site_name" content="sethfischer"/>
<meta property="og:title" content="Getting started with Drupal 8"/>
<meta property="og:description" content="This Drupal 8 article is obsolete. Now that Drupal 8 is in beta phase it is a great time for site developers to start exploring the API. This article serves as an introduction to installing and configuring Drupal 8 using Git and Drush."/>
<meta property="og:locale" content="en_GB"/>
<meta property="og:url" content="https://seth.fischer.nz/drupal-8-getting-started.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2014-11-28 22:22:00+13:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://seth.fischer.nz/author/seth-fischer.html">
<meta property="article:section" content="Web development"/>
<meta property="article:tag" content="Drupal 8"/>
<meta property="article:tag" content="Drupal"/>
<meta property="og:image" content="/static/icons/terminal.svg">

  <title>sethfischer &ndash; Getting started with Drupal 8</title>

</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="https://seth.fischer.nz">
        <img src="/static/icons/terminal.svg" alt="sethfischer" title="sethfischer">
      </a>

      <h1>
        <a href="https://seth.fischer.nz">sethfischer</a>
      </h1>



      <nav>
        <ul class="list">


              <li>
                <a target="_self"
                   href="https://seth.fischer.nz/contact.html#contact">
                  Contact
                </a>
              </li>
              <li>
                <a target="_self"
                   href="https://seth.fischer.nz/projects.html#projects">
                  Projects
                </a>
              </li>

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-github" href="https://github.com/sethfischer" target="_blank">
              <i class="fab fa-github"></i>
            </a>
          </li>
          <li>
            <a  class="sc-gitlab" href="https://gitlab.com/sethfischer" target="_blank">
              <i class="fab fa-gitlab"></i>
            </a>
          </li>
      </ul>
    </div>

  </aside>
  <main>

    <nav>
      <a href="https://seth.fischer.nz">Home</a>

      <a href="/archives">Archives</a>
      <a href="/categories">Categories</a>
      <a href="/tags">Tags</a>
      <a href="https://github.com/sethfischer">GitHub</a>

      <a href="https://seth.fischer.nz/feeds/all.atom.xml">Atom</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="drupal-8-getting-started">Getting started with Drupal 8</h1>
    <p>
      Posted on 28 November 2014 in <a href="https://seth.fischer.nz/category/web-development.html">Web development</a>

    </p>
  </header>


  <div>
    <div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This Drupal&nbsp;8 article is obsolete. It was published in November 2014, 12 months
before Drupal&nbsp;8 was released.</p>
</div>
<p>Now that <a class="reference external" href="https://www.drupal.org/8">Drupal&nbsp;8</a> is in beta phase it is time for site developers to start
exploring the API. This article describes the installation and configuration of
Drupal&nbsp;8 using Git and Drush.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">As of 28 November 2014 there were 22 <a class="reference external" href="https://www.drupal.org/project/issues/search/drupal?project_issue_followers=&amp;status%5B0%5D=1&amp;status%5B1%5D=13&amp;status%5B2%5D=8&amp;status%5B3%5D=14&amp;status%5B4%5D=15&amp;status%5B5%5D=4&amp;priorities%5B0%5D=400&amp;categories%5B0%5D=1&amp;categories%5B1%5D=2&amp;version%5B0%5D=any_8.&amp;issue_tags_op=%3D&amp;issue_tags=D8%20upgrade%20path">issues tagged with D8 upgrade path</a>,
so it may be necessary to rebuild your site with the next core update.</p>
</div>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#before-starting" id="id3">Before starting</a></li>
<li><a class="reference internal" href="#clone-drupal-8" id="id4">Clone Drupal&nbsp;8</a></li>
<li><a class="reference internal" href="#create-the-files-directory-and-set-permissions" id="id5">Create the <tt class="docutils literal">files</tt> directory and set permissions</a></li>
<li><a class="reference internal" href="#create-database" id="id6">Create database</a></li>
<li><a class="reference internal" href="#site-installation" id="id7">Site installation</a></li>
<li><a class="reference internal" href="#configure-a-drush-alias" id="id8">Configure a Drush alias</a></li>
<li><a class="reference internal" href="#install-contrib-modules" id="id9">Install contrib modules</a><ul>
<li><a class="reference internal" href="#devel" id="id10">Devel</a></li>
<li><a class="reference internal" href="#examples" id="id11">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#regularly-update-drupal-core" id="id12">Regularly update Drupal core</a></li>
<li><a class="reference internal" href="#further-reading" id="id13">Further reading</a></li>
</ul>
</div>
<div class="section" id="before-starting">
<h2><a class="toc-backref" href="#id3">Before starting</a></h2>
<ul class="simple">
<li>set-up a <abbr title="Linux, Apache, MySQL, PHP">LAMP</abbr> or
<abbr title="Linux, nginx, MySQL, PHP">LNMP</abbr> stack conforming with the
<a class="reference external" href="https://api.drupal.org/api/drupal/core!INSTALL.txt/8.2.x">Drupal&nbsp;8 system requirements</a></li>
<li><a class="reference external" href="http://git-scm.com/book/en/v2/Getting-Started-Installing-Git">install git</a></li>
<li><a class="reference external" href="https://getcomposer.org/doc/00-intro.md#installation-linux-unix-macos">install Composer</a></li>
<li>using composer, <a class="reference external" href="https://docs.drush.org/en/7.x/install/#composer-one-drush-for-all-projects">install Drush 7.x (dev)</a></li>
</ul>
</div>
<div class="section" id="clone-drupal-8">
<h2><a class="toc-backref" href="#id4">Clone Drupal&nbsp;8</a></h2>
<div class="highlight"><pre><span></span><span class="gp">$</span> git clone -b <span class="m">8</span>.0.x --single-branch http://git.drupal.org/project/drupal.git
<span class="gp">$</span> git remote rename origin upstream
<span class="gp">$</span> git remote add origin <span class="o">[</span>url<span class="o">]</span>
<span class="gp">$</span> git checkout -b master
<span class="gp">$</span> cp example.gitignore .gitignore
</pre></div>
</div>
<div class="section" id="create-the-files-directory-and-set-permissions">
<h2><a class="toc-backref" href="#id5">Create the <tt class="docutils literal">files</tt> directory and set permissions</a></h2>
<div class="highlight"><pre><span></span><span class="gp">$</span> mkdir sites/default/files
</pre></div>
<p>To work efficiently with Drush the files in <tt class="docutils literal">sites/default/files</tt> should be
writeable both by the web server and command line user. An alternative to
<tt class="docutils literal">chmod <span class="pre">-R</span> 777 sites/default/files</tt> is to use <a class="reference external" href="https://wiki.debian.org/Permissions#Access_Control_Lists_in_Linux">Access Control Lists</a>.</p>
<p>The following shell commands have been adapted from the
<a class="reference external" href="https://symfony.com/doc/2.3/book/installation.html">Installing and Configuring Symfony</a> section of the The Symfony Book.</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nv">HTTPDUSER</span><span class="o">=</span><span class="sb">`</span>ps aux <span class="p">|</span> grep -E <span class="s1">&#39;[a]pache|[h]ttpd|[_]www|[w]ww-data|[n]ginx&#39;</span> <span class="p">|</span> grep -v root <span class="p">|</span> head -1 <span class="p">|</span> cut -d<span class="se">\ </span> -f1<span class="sb">`</span>
<span class="gp">$</span> sudo setfacl -R -m u:<span class="s2">&quot;</span><span class="nv">$HTTPDUSER</span><span class="s2">&quot;</span>:rwX -m u:<span class="sb">`</span>whoami<span class="sb">`</span>:rwX sites/default/files
<span class="gp">$</span> sudo setfacl -dR -m u:<span class="s2">&quot;</span><span class="nv">$HTTPDUSER</span><span class="s2">&quot;</span>:rwX -m u:<span class="sb">`</span>whoami<span class="sb">`</span>:rwX sites/default/files
</pre></div>
<p><tt class="docutils literal">HTTPDUSER</tt> is usually <tt class="docutils literal"><span class="pre">www-data</span></tt> on Debian-based distributions.</p>
<p>Before setting the access control only the Drush user has <tt class="docutils literal">rw</tt> permissions:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> getfacl sites/default/files
<span class="gp">#</span> file: cache
<span class="gp">#</span> owner: drushuser
<span class="gp">#</span> group: drushuser
<span class="go">user::rwx</span>
<span class="go">group::rwx</span>
<span class="go">other::rwx</span>
</pre></div>
<p>After setting the access control both the web server user and Drush user have
<tt class="docutils literal">rw</tt> permissions:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> getfacl sites/default/files
<span class="gp">#</span> file: cache
<span class="gp">#</span> owner: drushuser
<span class="gp">#</span> group: drushuser
<span class="go">user::rwx</span>
<span class="go">user:www-data:rwx</span>
<span class="go">user:drushuser:rwx</span>
<span class="go">group::rwx</span>
<span class="go">mask::rwx</span>
<span class="go">other::rwx</span>
<span class="go">default:user::rwx</span>
<span class="go">default:user:www-data:rwx</span>
<span class="go">default:user:drushuser:rwx</span>
<span class="go">default:group::rwx</span>
<span class="go">default:mask::rwx</span>
<span class="go">default:other::rwx</span>
</pre></div>
</div>
<div class="section" id="create-database">
<h2><a class="toc-backref" href="#id6">Create database</a></h2>
<p>Open a MySQL console:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> mysql -uroot -p
</pre></div>
<p>Create database and user:</p>
<div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">db</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="n">USER</span> <span class="s1">&#39;dbuser&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">&#39;password&#39;</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">ALL</span> <span class="n">PRIVILEGES</span> <span class="k">ON</span> <span class="n">db</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">&#39;dbuser&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span><span class="p">;</span>
<span class="k">FLUSH</span> <span class="n">PRIVILEGES</span><span class="p">;</span>
</pre></div>
</div>
<div class="section" id="site-installation">
<h2><a class="toc-backref" href="#id7">Site installation</a></h2>
<div class="highlight"><pre><span></span><span class="gp">$</span> drush site-install standard --db-url<span class="o">=</span>mysql://dbuser:password@localhost/db --site-name<span class="o">=</span>drupal8
<span class="gp">$</span> drush upwd admin --password<span class="o">=</span>password
</pre></div>
<p>Drupal&nbsp;8 beta is now configured and you may login with the username “admin” and
password “password”.</p>
</div>
<div class="section" id="configure-a-drush-alias">
<h2><a class="toc-backref" href="#id8">Configure a Drush alias</a></h2>
<div class="highlight"><pre><span></span><span class="gp">$</span> cp ~/.composer/vendor/drush/drush/examples/example.aliases.drushrc.php ~/.drush/aliases.drushrc.php
<span class="gp">$</span> drush site-alias @self --full --with-optional &gt;&gt; ~/.drush/aliases.drushrc.php
</pre></div>
<p>Edit <tt class="docutils literal"><span class="pre">~/.drush/aliases.drushrc.php</span></tt> and enter your site’s URI.</p>
<div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="sd">/**</span>
<span class="sd"> * Drupal 8 beta</span>
<span class="sd"> */</span>
<span class="nv">$aliases</span><span class="p">[</span><span class="s2">&quot;drupal8&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span> <span class="p">(</span>
  <span class="s1">&#39;root&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/var/www/drupal8&#39;</span><span class="p">,</span>
  <span class="s1">&#39;uri&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;http://drupal8&#39;</span><span class="p">,</span>
  <span class="s1">&#39;#name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;drupal8&#39;</span><span class="p">,</span>
  <span class="s1">&#39;path-aliases&#39;</span> <span class="o">=&gt;</span>
  <span class="k">array</span> <span class="p">(</span>
    <span class="s1">&#39;%drush&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/home/seth/.composer/vendor/drush/drush&#39;</span><span class="p">,</span>
    <span class="s1">&#39;%site&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sites/default/&#39;</span><span class="p">,</span>
  <span class="p">),</span>
<span class="p">);</span>
</pre></div>
<p>Check that your system meets the minimum core requirements:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> drush @drupal8 core-requirements
</pre></div>
<p>Check the status of the site installation by running <tt class="docutils literal">drush &#64;drupal8 status</tt>.
The output is as follows:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> drush @drupal8 status
<span class="go"> Drupal version         :  8.0.0-dev</span>
<span class="go"> Site URI               :  http://drupal8</span>
<span class="go"> Database driver        :  mysql</span>
<span class="go"> Database hostname      :  localhost</span>
<span class="go"> Database port          :</span>
<span class="go"> Database username      :  drupal8</span>
<span class="go"> Database name          :  drupal8</span>
<span class="go"> Database               :  Connected</span>
<span class="go"> Drupal bootstrap       :  Successful</span>
<span class="go"> Drupal user            :  Anonymous</span>
<span class="go"> Default theme          :  bartik</span>
<span class="go"> Administration theme   :  seven</span>
<span class="go"> PHP executable         :  /usr/bin/php</span>
<span class="go"> PHP configuration      :  /etc/php5/cli/php.ini</span>
<span class="go"> PHP OS                 :  Linux</span>
<span class="go"> Drush version          :  7.0-dev</span>
<span class="go"> Drush temp directory   :  /tmp</span>
<span class="go"> Drush configuration    :</span>
<span class="go"> Drush alias files      :  /home/user/.drush/aliases.drushrc.php</span>
<span class="go"> Drupal root            :  /var/www/drupal8</span>
<span class="go"> Site path              :  sites/default</span>
<span class="go"> File directory path    :  sites/default/files</span>
<span class="go"> Temporary file         :  /tmp</span>
<span class="go"> directory path</span>
<span class="go"> Active config path     :  sites/default/files/config_jP-uX_4rcMWllW18FM124krsM</span>
<span class="go">                           An44d1rdD2t5zXZLAaQcrXQjUATnoTTQ5gtw-iH5fqcmlTFCQ/ac</span>
<span class="go">                           tive</span>
<span class="go"> Staging config path    :  sites/default/files/config_jP-uX_4rcMWllW18FM124krsM</span>
<span class="go">                           An44d1rdD2t5zXZLAaQcrXQjUATnoTTQ5gtw-iH5fqcmlTFCQ/st</span>
<span class="go">                           aging</span>
</pre></div>
</div>
<div class="section" id="install-contrib-modules">
<h2><a class="toc-backref" href="#id9">Install contrib modules</a></h2>
<p>Two useful modules for developers are <a class="reference external" href="https://www.drupal.org/project/devel">devel</a> and <a class="reference external" href="https://www.drupal.org/project/examples">examples</a>.</p>
<div class="section" id="devel">
<h3><a class="toc-backref" href="#id10">Devel</a></h3>
<div class="highlight"><pre><span></span><span class="gp">$</span> drush @drupal8 pm-download devel
<span class="gp">$</span> drush @drupal8 pm-enable devel
</pre></div>
</div>
<div class="section" id="examples">
<h3><a class="toc-backref" href="#id11">Examples</a></h3>
<div class="highlight"><pre><span></span><span class="gp">$</span> drush @drupal8 pm-download examples
<span class="gp">$</span> drush @drupal8 pm-enable examples
</pre></div>
<p>The single command <tt class="docutils literal">drush &#64;drupal8 <span class="pre">pm-enable</span> module</tt> downloads module (if
required) before enabling it.</p>
</div>
</div>
<div class="section" id="regularly-update-drupal-core">
<h2><a class="toc-backref" href="#id12">Regularly update Drupal core</a></h2>
<p>As Drupal&nbsp;8 pushes on through beta releases you should regularly merge in the
latest code:</p>
<div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(master)</span><span class="gp">$</span> git checkout master
<span class="gp gp-VirtualEnv">(master)</span><span class="gp">$</span> git fetch upstream
<span class="gp gp-VirtualEnv">(master)</span><span class="gp">$</span> git merge upstream/8.0.x
</pre></div>
<p>Remember to rebuild the site after each merge:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> drush cache-rebuild
</pre></div>
<p>Before all issues tagged with “D8 upgrade path” have been closed you may find
that you are required to repeat the preceding site installation commands after
updating Drupal core.</p>
</div>
<div class="section" id="further-reading">
<h2><a class="toc-backref" href="#id13">Further reading</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://www.drupal.org/node/803746">Building a Drupal site with Git</a></li>
<li><a class="reference external" href="http://git-scm.com/">git-scm.com</a></li>
</ul>
</div>

  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://seth.fischer.nz/tag/drupal-8.html">Drupal 8</a>
      <a href="https://seth.fischer.nz/tag/drupal.html">Drupal</a>
    </p>
  </div>





</article>

    <footer>
<p>&copy; 2021 Seth Fischer</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " sethfischer ",
  "url" : "https://seth.fischer.nz",
  "image": "/static/icons/terminal.svg",
  "description": ""
}
</script>


</body>
</html>