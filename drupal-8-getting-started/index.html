<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>Getting started with Drupal 8 - sethfischer</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://seth.fischer.nz/drupal-8-getting-started/">

        <meta name="author" content="Seth Fischer" />
        <meta name="keywords" content="Drupal 8,Drupal" />
        <meta name="description" content="Now that Drupal 8 is in beta phase it is a great time for site developers to start exploring the API. This article serves as an introduction to installing and configuring Drupal 8 using Git and Drush." />

        <meta property="og:site_name" content="sethfischer" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Getting started with Drupal 8"/>
        <meta property="og:url" content="http://seth.fischer.nz/drupal-8-getting-started/"/>
        <meta property="og:description" content="Now that Drupal 8 is in beta phase it is a great time for site developers to start exploring the API. This article serves as an introduction to installing and configuring Drupal 8 using Git and Drush."/>
        <meta property="article:published_time" content="2014-11-28" />
            <meta property="article:section" content="Drupal" />
            <meta property="article:tag" content="Drupal 8" />
            <meta property="article:tag" content="Drupal" />
            <meta property="article:author" content="Seth Fischer" />


        <link href="http://seth.fischer.nz/theme/css/styles.min.css?fe862d9d" rel="stylesheet" />

    <link href="http://seth.fischer.nz/theme/css/pygments/native.css" rel="stylesheet">
        <link href="http://seth.fischer.nz/static/custom.css" rel="stylesheet">

        <link href="http://seth.fischer.nz/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="sethfischer ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://seth.fischer.nz/" class="navbar-brand">
sethfischer            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="http://seth.fischer.nz/pages/about.html">
                             About
                          </a></li>
                        <li class="active">
                            <a href="http://seth.fischer.nz/category/drupal.html">Drupal</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://seth.fischer.nz/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://seth.fischer.nz/drupal-8-getting-started/"
                       rel="bookmark"
                       title="Permalink to Getting started with Drupal 8">
                        Getting started with Drupal 8
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2014-11-28T22:22:00+13:00"> Fri 28 November 2014</time>
    </span>
            <span class="label label-default">Modified</span>
            <span class="modified">
                <i class="fa fa-calendar"></i><time datetime="2014-11-29T20:33:00+13:00"> Sat 29 November 2014</time>
            </span>



<span class="label label-default">Tags</span>
	<a href="http://seth.fischer.nz/tag/drupal-8.html">Drupal 8</a>
        /
	<a href="http://seth.fischer.nz/tag/drupal.html">Drupal</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Now that <a href="https://www.drupal.org/drupal-8.0">Drupal 8</a> is in beta phase it is time for site developers to start
exploring the API. This article describes the installation and configuration of
Drupal 8 using Git and Drush. Bear in mind that as of 2014-11-28 there were 22
<a href="https://www.drupal.org/project/issues/search/drupal?project_issue_followers=&amp;status%5B%5D=1&amp;status%5B%5D=13&amp;status%5B%5D=8&amp;status%5B%5D=14&amp;status%5B%5D=15&amp;status%5B%5D=4&amp;priorities%5B%5D=400&amp;categories%5B%5D=1&amp;categories%5B%5D=2&amp;version%5B%5D=8.x&amp;issue_tags_op=%3D&amp;issue_tags=D8+upgrade+path">issues tagged with D8 upgrade path</a>, so it may be necessary to rebuild your
site with the next core update.</p>
<div class="toc">
<ul>
<li><a href="#before-starting">Before starting</a></li>
<li><a href="#clone-drupal-8">Clone Drupal 8</a></li>
<li><a href="#create-the-files-directory-and-set-permissions">Create the files directory and set permissions</a></li>
<li><a href="#create-database">Create database</a></li>
<li><a href="#site-installation">Site installation</a></li>
<li><a href="#configure-a-drush-alias">Configure a Drush alias</a></li>
<li><a href="#install-contrib-modules">Install contrib modules</a><ul>
<li><a href="#devel">Devel</a></li>
<li><a href="#examples">Examples</a></li>
</ul>
</li>
<li><a href="#regularly-update-drupal-core">Regularly update Drupal core</a></li>
<li><a href="#further-reading">Further reading</a></li>
</ul>
</div>
<h2 id="before-starting">Before starting</h2>
<ul>
<li>set-up a <a href="https://wiki.debian.org/LaMp" title="Setting up a LAMP stack on Debian"><abbr title="Linux, Apache, MySQL, PHP">LAMP</abbr></a> or <abbr title="Linux, nginx, MySQL, PHP">LNMP</abbr> stack conforming with the
    <a href="https://api.drupal.org/api/drupal/core!INSTALL.txt/8" title="Drupal 8 INSTALL.txt">Drupal 8 system requirements</a></li>
<li><a href="http://git-scm.com/book/en/v2/Getting-Started-Installing-Git" title="Installing Git">install git</a></li>
<li><a href="https://getcomposer.org/doc/00-intro.md#installation-nix" title="Install Composer on Unix type systems">install Composer</a></li>
<li>using composer, <a href="https://github.com/drush-ops/drush#installupdate---composer" title="How to install Drush 7.x (dev)">install Drush 7.x (dev)</a></li>
</ul>
<h2 id="clone-drupal-8">Clone Drupal 8</h2>
<div class="highlight"><pre><span class="gp">$</span> git clone -b 8.0.x --single-branch http://git.drupal.org/project/drupal.git
<span class="gp">$</span> git remote rename origin upstream
<span class="gp">$</span> git remote add origin <span class="o">[</span>url<span class="o">]</span>
<span class="gp">$</span> git checkout -b master
<span class="gp">$</span> cp example.gitignore .gitignore
</pre></div>


<h2 id="create-the-files-directory-and-set-permissions">Create the files directory and set permissions</h2>
<div class="highlight"><pre><span class="gp">$</span> mkdir sites/default/files
</pre></div>


<p>To work efficiently with drush the files in <code>sites/default/files</code> should be
writeable both by the web server and command line user. An alternative to
<code>chmod -R 777 sites/default/files</code> is to use <a href="https://wiki.debian.org/Permissions#Access_Control_Lists_in_Linux" title="Access Control Lists in Linux">Access Control Lists</a>.</p>
<p>Those familiar with the Symfony 2 documentation will recognise the following
shell commands which have been adapted from the
<a href="http://Symfony.com/doc/2.3/book/installation.html#configuration-and-set-up">Installing and Configuring Symfony</a> chapter of the The Symfony Book.</p>
<div class="highlight"><pre><span class="gp">$</span> <span class="nv">HTTPDUSER</span><span class="o">=</span><span class="sb">`</span>ps aux <span class="p">|</span> grep -E <span class="s1">&#39;[a]pache|[h]ttpd|[_]www|[w]ww-data|[n]ginx&#39;</span> <span class="p">|</span> grep -v root <span class="p">|</span> head -1 <span class="p">|</span> cut -d<span class="se">\ </span> -f1<span class="sb">`</span>
<span class="gp">$</span> sudo setfacl -R -m u:<span class="s2">&quot;</span><span class="nv">$HTTPDUSER</span><span class="s2">&quot;</span>:rwX -m u:<span class="sb">`</span>whoami<span class="sb">`</span>:rwX sites/default/files
<span class="gp">$</span> sudo setfacl -dR -m u:<span class="s2">&quot;</span><span class="nv">$HTTPDUSER</span><span class="s2">&quot;</span>:rwX -m u:<span class="sb">`</span>whoami<span class="sb">`</span>:rwX sites/default/files
</pre></div>


<p><code>HTTPDUSER</code> is usually <code>www-data</code> on Debian-based distributions.</p>
<p>Before setting the access control only the drush user will have <code>rw</code> permissions:</p>
<div class="highlight"><pre><span class="gp">$</span> getfacl sites/default/files
<span class="gp">#</span> file: cache
<span class="gp">#</span> owner: drushuser
<span class="gp">#</span> group: drushuser
<span class="go">user::rwx</span>
<span class="go">group::rwx</span>
<span class="go">other::rwx</span>
</pre></div>


<p>After setting the access control both the web server user and drush user will
have <code>rw</code> permissions:</p>
<div class="highlight"><pre><span class="gp">$</span> getfacl sites/default/files
<span class="gp">#</span> file: cache
<span class="gp">#</span> owner: drushuser
<span class="gp">#</span> group: drushuser
<span class="go">user::rwx</span>
<span class="go">user:www-data:rwx</span>
<span class="go">user:drushuser:rwx</span>
<span class="go">group::rwx</span>
<span class="go">mask::rwx</span>
<span class="go">other::rwx</span>
<span class="go">default:user::rwx</span>
<span class="go">default:user:www-data:rwx</span>
<span class="go">default:user:drushuser:rwx</span>
<span class="go">default:group::rwx</span>
<span class="go">default:mask::rwx</span>
<span class="go">default:other::rwx</span>
</pre></div>


<h2 id="create-database">Create database</h2>
<div class="highlight"><pre><span class="gp">$</span> mysql -uroot -p
<span class="go">mysql&gt; CREATE DATABASE db;</span>
<span class="go">mysql&gt; CREATE USER &#39;dbuser&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;</span>
<span class="go">mysql&gt; GRANT ALL PRIVILEGES ON db.* TO &#39;dbuser&#39;@&#39;localhost&#39;;</span>
<span class="go">mysql&gt; FLUSH PRIVILEGES;</span>
<span class="go">mysql&gt; \q</span>
</pre></div>


<h2 id="site-installation">Site installation</h2>
<div class="highlight"><pre><span class="gp">$</span> drush site-install standard --db-url<span class="o">=</span>mysql://dbuser:password@localhost/db --site-name<span class="o">=</span>drupal8
<span class="gp">$</span> drush upwd admin --password<span class="o">=</span>password
</pre></div>


<p>Drupal 8 beta is now configured and you may login with the username "admin" and
password "password".</p>
<h2 id="configure-a-drush-alias">Configure a Drush alias</h2>
<div class="highlight"><pre><span class="gp">$</span> cp ~/.composer/vendor/drush/drush/examples/example.aliases.drushrc.php ~/.drush/aliases.drushrc.php
<span class="gp">$</span> drush site-alias @self --full --with-optional &gt;&gt; ~/.drush/aliases.drushrc.php
</pre></div>


<p>Edit <code>~/.drush/aliases.drushrc.php</code> and enter your site's URI.</p>
<div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="sd">/**</span>
<span class="sd"> * Drupal 8 beta</span>
<span class="sd"> */</span>
<span class="nv">$aliases</span><span class="p">[</span><span class="s2">&quot;drupal8&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span> <span class="p">(</span>
  <span class="s1">&#39;root&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/var/www/drupal8&#39;</span><span class="p">,</span>
  <span class="s1">&#39;uri&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;http://drupal8&#39;</span><span class="p">,</span>
  <span class="s1">&#39;#name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;drupal8&#39;</span><span class="p">,</span>
  <span class="s1">&#39;path-aliases&#39;</span> <span class="o">=&gt;</span> 
  <span class="k">array</span> <span class="p">(</span>
    <span class="s1">&#39;%drush&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/home/seth/.composer/vendor/drush/drush&#39;</span><span class="p">,</span>
    <span class="s1">&#39;%site&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sites/default/&#39;</span><span class="p">,</span>
  <span class="p">),</span>
<span class="p">);</span>
</pre></div>


<p>Check that your system meets the minimum core requirements:</p>
<div class="highlight"><pre><span class="gp">$</span> drush @drupal8 core-requirements
</pre></div>


<p>Check the status of the site installation by running <code>drush @drupal8 status</code>.
The output will be similar to the following:</p>
<div class="highlight"><pre><span class="gp">$</span> drush @drupal8 status
<span class="go"> Drupal version         :  8.0.0-dev</span>
<span class="go"> Site URI               :  http://drupal8</span>
<span class="go"> Database driver        :  mysql</span>
<span class="go"> Database hostname      :  localhost</span>
<span class="go"> Database port          :</span>
<span class="go"> Database username      :  drupal8</span>
<span class="go"> Database name          :  drupal8</span>
<span class="go"> Database               :  Connected</span>
<span class="go"> Drupal bootstrap       :  Successful</span>
<span class="go"> Drupal user            :  Anonymous</span>
<span class="go"> Default theme          :  bartik</span>
<span class="go"> Administration theme   :  seven</span>
<span class="go"> PHP executable         :  /usr/bin/php</span>
<span class="go"> PHP configuration      :  /etc/php5/cli/php.ini</span>
<span class="go"> PHP OS                 :  Linux</span>
<span class="go"> Drush version          :  7.0-dev</span>
<span class="go"> Drush temp directory   :  /tmp</span>
<span class="go"> Drush configuration    :</span>
<span class="go"> Drush alias files      :  /home/user/.drush/aliases.drushrc.php</span>
<span class="go"> Drupal root            :  /var/www/drupal8</span>
<span class="go"> Site path              :  sites/default</span>
<span class="go"> File directory path    :  sites/default/files</span>
<span class="go"> Temporary file         :  /tmp</span>
<span class="go"> directory path</span>
<span class="go"> Active config path     :  sites/default/files/config_jP-uX_4rcMWllW18FM124krsM</span>
<span class="go">                           An44d1rdD2t5zXZLAaQcrXQjUATnoTTQ5gtw-iH5fqcmlTFCQ/ac</span>
<span class="go">                           tive</span>
<span class="go"> Staging config path    :  sites/default/files/config_jP-uX_4rcMWllW18FM124krsM</span>
<span class="go">                           An44d1rdD2t5zXZLAaQcrXQjUATnoTTQ5gtw-iH5fqcmlTFCQ/st</span>
<span class="go">                           aging</span>
</pre></div>


<h2 id="install-contrib-modules">Install contrib modules</h2>
<p>Two useful modules for developers are <a href="https://www.drupal.org/project/devel">devel</a> and <a href="https://www.drupal.org/project/examples">examples</a>.</p>
<h3 id="devel">Devel</h3>
<div class="highlight"><pre><span class="gp">$</span> drush @drupal8 pm-download devel
<span class="gp">$</span> drush @drupal8 pm-enable devel
</pre></div>


<h3 id="examples">Examples</h3>
<div class="highlight"><pre><span class="gp">$</span> drush @drupal8 pm-download examples
<span class="gp">$</span> drush @drupal8 pm-enable examples
</pre></div>


<p>The single command <code>drush @drupal8 pm-enable module</code> will download module (if
required) before enabling it.</p>
<h2 id="regularly-update-drupal-core">Regularly update Drupal core</h2>
<p>As Drupal 8 pushes on through beta releases you should regularly merge in the
latest code:</p>
<div class="highlight"><pre><span class="gp">(master)$</span> git checkout master
<span class="gp">(master)$</span> git fetch upstream
<span class="gp">(master)$</span> git merge upstream/8.0.x
</pre></div>


<p>Remember to rebuild the site after each merge:</p>
<div class="highlight"><pre><span class="gp">$</span> drush cache-rebuild
</pre></div>


<p>Before all issues tagged with "D8 upgrade path" have been closed you may find
that you are required to repeat the site installation commands as described
above after updating Drupal core.</p>
<h2 id="further-reading">Further reading</h2>
<ul>
<li><a href="https://www.drupal.org/node/803746">Building a Drupal site with Git</a></li>
<li><a href="http://gitref.org/">Git Reference</a></li>
</ul>
            </div>
            <!-- /.entry-content -->
    <h2>Changelog</h2>

    <p>
        <a href="https://github.com/sethfischer/sethfischer.github.io/commits/source/content/drupal/drupal-8-getting-started.md">
            View history on GitHub
        </a>
    </p>

        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-code-fork fa-lg"></i><span class="icon-label">Code</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://github.com/sethfischer"><i class="fa fa-github fa-lg"></i> GitHub</a></li>
                <li class="list-group-item"><a href="https://bitbucket.org/sethfischer"><i class="fa fa-bitbucket fa-lg"></i> Bitbucket</a></li>
                <li class="list-group-item"><a href="https://drupal.org/u/sethfischer"><i class="fa fa-drupal fa-lg"></i> Drupal</a></li>
              </ul>
            </li>

            <li class="list-group-item"><h4><i class="fa fa-clock-o fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
                <ul class="list-group" id="recentposts">
                    <li class="list-group-item">
                        <a href="http://seth.fischer.nz/drupal-8-workflow-using-git-subtree-merging/">
                            A Drupal 8 workflow using the Git subtree merge strategy
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://seth.fischer.nz/drupal-8-getting-started/">
                            Getting started with Drupal 8
                        </a>
                    </li>
                </ul>
            </li>


            <li class="list-group-item"><a href="http://seth.fischer.nz/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group " id="tags">
                    <li class="list-group-item tag-1">
                        <a href="http://seth.fischer.nz/tag/drupal-8.html">
                            Drupal 8
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://seth.fischer.nz/tag/drupal.html">
                            Drupal
                        </a>
                    </li>
                </ul>
            </li>

    <li class="list-group-item"><h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
        <div id="gh_repos">
            <p class="list-group-item">Status updating...</p>
        </div>
            <a href="https://github.com/sethfischer">@sethfischer</a> on GitHub
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2015 Seth Fischer
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>              <p><small>  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by/4.0/80x15.png" /></a>
    Content
  licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>, except where indicated otherwise.
</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
    <script src="http://seth.fischer.nz/theme/js/scripts.min.js?2d2c0b19"></script>

    <!-- GitHub JS -->
    <script type="text/javascript">
        $(document).ready(function () {
            if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = 'http://seth.fischer.nz/theme/js/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
            }

            github.showRepos({
                user: 'sethfischer',
                count: 5,
                skip_forks: false,
                target: '#gh_repos'
            });
        });
    </script>
    <!-- End GitHub JS Code -->
    <!-- Google Analytics Universal -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-59343172-1', 'auto');
        ga('send', 'pageview');
    </script>
    <!-- End Google Analytics Universal Code -->

</body>
</html>